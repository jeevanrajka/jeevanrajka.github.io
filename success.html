<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.27/angular.min.js"></script>
        <script>
            var app = angular.module('myApp', []);
            app.controller('myCtrl', function ($scope, $http) {
                $scope.callbackResponse = (document.URL).split("=")[1];
                $scope.callbackResponse = $scope.callbackResponse.split("%")[0];
                $scope.callbackResponse = $scope.callbackResponse + "==";               
                console.log($scope.callbackResponse);
               
                /*  $http({
                            method : "POST",
                            url : postURL
                        }).then(function mySucces(response) {
                           // $scope.myWelcome = response.data;
                            localStorage.setItem("access",JSON.stringify(response.data));
                            window.location.href = "https://jeevanrajka.github.io/success1.html";
                        }, function myError(response) {
                            $scope.myWelcome = response.statusText;
                            alert("error");
                            console.log(response.data.id);
                        });*/

                $http({
                    method: 'POST',
                    url: "https://login.salesforce.com/services/oauth2/token",
                                     
                        params: {
                        grant_type: "authorization_code",
                        code: $scope.callbackResponse,
                        client_id: "3MVG9d8..z.hDcPLctYKc1LCdYB6BXQZYQOI.0qrBMzu.m.A2i9Ov6jrB2MNLWt7fHcp43vGzlWZhiEUM0RFu",
                        client_secret: "9090652624565001015",
                        redirect_uri: "https://jeevanrajka.github.io/success.html"
                    }
                   
                }).success(function(data, status, headers, config) {
                     //Data received from webservices
                       console.log("Success Response Received");
//var responseObj;
                // responseObj = data.addDeliveryVehicleResponse;
                             
                     }).error(function(data, status, headers, config) {
                       
                    

console.log("data:;",data.access_token);
console.log("data:;",data);
console.log("typeof::",typeof(data));
$scope.response = JSON.parse(data);
console.log("JSONdata:;",$scope.response.access_token);

                      });
                
       /*         var url = "https://login.salesforce.com/services/oauth2/token";
var params = "grant_type=authorization_code&code="+$scope.callbackResponse+"&client_id=3MVG9d8..z.hDcPLctYKc1LCdYB6BXQZYQOI.0qrBMzu.m.A2i9Ov6jrB2MNLWt7fHcp43vGzlWZhiEUM0RFu&client_secret=9090652624565001015&redirect_uri=https://jeevanrajka.github.io/success.html";
var xhr = new XMLHttpRequest();
xhr.open("POST", url, true);

//Send the proper header information along with the request
xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

xhr.send(params); 
*/
                
                
             /*   $http({
                       method : 'POST',
                       url :"https://login.salesforce.com/services/oauth2/token",
                    //    withCredentials : true,
                        headers : {
                       contentType : 'application/json'
                        },
                        data : {
                        grant_type: "authorization_code",
                        code: $scope.callbackResponse,
                        client_id: "3MVG9d8..z.hDcPLctYKc1LCdYB6BXQZYQOI.0qrBMzu.m.A2i9Ov6jrB2MNLWt7fHcp43vGzlWZhiEUM0RFu",
                        client_secret: "9090652624565001015",
                        redirect_uri: "https://jeevanrajka.github.io/success.html"
                    }
                    }).success(function(data, status, headers, config) {
                     //Data received from webservices
                       console.log("Success Response Received");
//var responseObj;
                // responseObj = data.addDeliveryVehicleResponse;
                             
                     }).error(function(data, status, headers, config) {
                       console.log(data);
                      });*/

           });
        </script>
    </head>
    <body>
        <div ng-app="myApp" ng-controller="myCtrl"> 
            Redirecting...
        </div>        
    </body>
</html>
